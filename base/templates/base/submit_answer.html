<!-- templates/submit_answer.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kết Quả Bài Làm</title>
    <!-- Thêm các CSS và JS cần thiết -->
    <style>
        .correct { color: green; }
        .incorrect { color: red; }
    </style>
</head>
<body>
    <h1>Kết Quả Bài Làm</h1>
    <p>Điểm của bạn: {{ score }}/10</p>

    <h2>Chi Tiết</h2>
    {% for review in review_data %}
        <div class="review-question">
            <p>{{ forloop.counter }}. {{ review.name }}{% if review.type == 'true_false' %} ({{ review.loai }}){% endif %}</p>
            {% if review.type == 'multiple_choice' %}
                <p>Đáp Án Bạn Chọn: {{ review.selected_answer }}</p>
                <p>Đáp Án Đúng: {{ review.correct_answer }}</p>
                {% if review.is_correct %}
                    <p class="correct">Đúng</p>
                {% else %}
                    <p class="incorrect">Sai</p>
                {% endif %}
            {% elif review.type == 'true_false' %}
                <p>Số Đáp Án Đúng Bạn Chọn: {{ review.correct_count }}</p>
                <p>Điểm Tương Ứng: {{ review.points_awarded }}</p>
                <ul>
                    {% for ans in review.answers %}
                        <li>
                            {{ ans.label }}. {{ ans.text }} - Bạn chọn: {{ ans.selected_answer }}, Đáp án đúng: {{ ans.correct_answer }}
                            {% if ans.is_correct %}
                                <span class="correct">Đúng</span>
                            {% else %}
                                <span class="incorrect">Sai</span>
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% endfor %}

    <a href="{% url 'de_thi' de_id=de %}">Làm Lại Bài Thi</a>
</body>
</html>
